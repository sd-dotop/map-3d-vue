define(["./CompressedTextureBuffer-752b9737","./createTaskProcessorWorker","./defaultValue-69ee94f4"],(function(e,r,t){"use strict";var n,i=(n="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,"undefined"!=typeof __filename&&(n=n||__filename),function(e){var r,t,i,o,a,u=void 0!==(e=e||{})?e:{},s={};for(r in u)u.hasOwnProperty(r)&&(s[r]=u[r]);t="object"==typeof window,i="function"==typeof importScripts,o="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,a=!t&&!o&&!i;var c,l,f,p,d="";o?(d=i?require("path").dirname(d)+"/":__dirname+"/",c=function(e,r){return f||(f=require("fs")),p||(p=require("path")),e=p.normalize(e),f.readFileSync(e,r?null:"utf8")},l=function(e){var r=c(e,!0);return r.buffer||(r=new Uint8Array(r)),C(r.buffer),r},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof Or))throw e})),process.on("unhandledRejection",Z),u.inspect=function(){return"[Emscripten Module object]"}):a?("undefined"!=typeof read&&(c=function(e){return read(e)}),l=function(e){var r;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(C("object"==typeof(r=read(e,"binary"))),r)},"undefined"!=typeof scriptArgs&&scriptArgs,"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(t||i)&&(i?d=self.location.href:document.currentScript&&(d=document.currentScript.src),n&&(d=n),d=0!==d.indexOf("blob:")?d.substr(0,d.lastIndexOf("/")+1):"",c=function(e){var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},i&&(l=function(e){var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}));var h,y,v=u.print||console.log.bind(console),m=u.printErr||console.warn.bind(console);for(r in s)s.hasOwnProperty(r)&&(u[r]=s[r]);s=null,u.arguments,u.thisProgram,u.quit,u.wasmBinary&&(h=u.wasmBinary),u.noExitRuntime,"object"!=typeof WebAssembly&&m("no native wasm support detected");var g=new WebAssembly.Table({initial:59,maximum:59,element:"anyfunc"}),T=!1;function C(e,r){e||Z("Assertion failed: "+r)}var w="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function b(e,r,t){for(var n=r+t,i=r;e[i]&&!(i>=n);)++i;if(i-r>16&&e.subarray&&w)return w.decode(e.subarray(r,i));for(var o="";r<i;){var a=e[r++];if(128&a){var u=63&e[r++];if(192!=(224&a)){var s=63&e[r++];if((a=224==(240&a)?(15&a)<<12|u<<6|s:(7&a)<<18|u<<12|s<<6|63&e[r++])<65536)o+=String.fromCharCode(a);else{var c=a-65536;o+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else o+=String.fromCharCode((31&a)<<6|u)}else o+=String.fromCharCode(a)}return o}function _(e,r){return e?b(A,e,r):""}var $,P,A,F,R,S,E,B,W,I="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0;function O(e){for(var r=e,t=r>>1;F[t];)++t;if((r=t<<1)-e>32&&I)return I.decode(A.subarray(e,r));for(var n=0,i="";;){var o=F[e+2*n>>1];if(0==o)return i;++n,i+=String.fromCharCode(o)}}function k(e,r,t){if(void 0===t&&(t=2147483647),t<2)return 0;for(var n=r,i=(t-=2)<2*e.length?t/2:e.length,o=0;o<i;++o){var a=e.charCodeAt(o);F[r>>1]=a,r+=2}return F[r>>1]=0,r-n}function j(e){return 2*e.length}function x(e){for(var r=0,t="";;){var n=S[e+4*r>>2];if(0==n)return t;if(++r,n>=65536){var i=n-65536;t+=String.fromCharCode(55296|i>>10,56320|1023&i)}else t+=String.fromCharCode(n)}}function D(e,r,t){if(void 0===t&&(t=2147483647),t<4)return 0;for(var n=r,i=n+t-4,o=0;o<e.length;++o){var a=e.charCodeAt(o);if(a>=55296&&a<=57343&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++o)),S[r>>2]=a,(r+=4)+4>i)break}return S[r>>2]=0,r-n}function U(e){for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n>=55296&&n<=57343&&++t,r+=4}return r}function V(e){$=e,u.HEAP8=P=new Int8Array(e),u.HEAP16=F=new Int16Array(e),u.HEAP32=S=new Int32Array(e),u.HEAPU8=A=new Uint8Array(e),u.HEAPU16=R=new Uint16Array(e),u.HEAPU32=E=new Uint32Array(e),u.HEAPF32=B=new Float32Array(e),u.HEAPF64=W=new Float64Array(e)}var G=u.INITIAL_MEMORY||16777216;function M(e){for(;e.length>0;){var r=e.shift();if("function"!=typeof r){var t=r.func;"number"==typeof t?void 0===r.arg?u.dynCall_v(t):u.dynCall_vi(t,r.arg):t(void 0===r.arg?null:r.arg)}else r()}}(y=u.wasmMemory?u.wasmMemory:new WebAssembly.Memory({initial:G/65536}))&&($=y.buffer),G=$.byteLength,V($),S[79544]=5561216;var H=[],z=[],q=[],L=[],N=Math.ceil,X=Math.floor,J=0,Y=null;function Z(e){throw u.onAbort&&u.onAbort(e),v(e+=""),m(e),T=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(e)}u.preloadedImages={},u.preloadedAudios={};var K="data:application/octet-stream;base64,";function Q(e){return String.prototype.startsWith?e.startsWith(K):0===e.indexOf(K)}var ee,re="basis_transcoder.wasm";function te(){try{if(h)return new Uint8Array(h);if(l)return l(re);throw"both async and sync fetching of the wasm failed"}catch(e){Z(e)}}Q(re)||(ee=re,re=u.locateFile?u.locateFile(ee,d):d+ee),z.push({func:function(){Er()}});var ne={};function ie(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}var oe=void 0;function ae(e){for(var r="",t=e;A[t];)r+=oe[A[t++]];return r}var ue={},se={},ce={};function le(e){if(void 0===e)return"_unknown";var r=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return r>=48&&r<=57?"_"+e:e}function fe(e,r){return e=le(e),new Function("body","return function "+e+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(r)}function pe(e,r){var t=fe(r,(function(e){this.name=r,this.message=e;var t=new Error(e).stack;void 0!==t&&(this.stack=this.toString()+"\n"+t.replace(/^Error(:[^\n]*)?\n/,""))}));return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},t}var de=void 0;function he(e){throw new de(e)}var ye=void 0;function ve(e){throw new ye(e)}function me(e,r,t){function n(r){var n=t(r);n.length!==e.length&&ve("Mismatched type converter count");for(var i=0;i<e.length;++i)ge(e[i],n[i])}e.forEach((function(e){ce[e]=r}));var i=new Array(r.length),o=[],a=0;r.forEach((function(e,r){se.hasOwnProperty(e)?i[r]=se[e]:(o.push(e),ue.hasOwnProperty(e)||(ue[e]=[]),ue[e].push((function(){i[r]=se[e],++a===o.length&&n(i)})))})),0===o.length&&n(i)}function ge(e,r,t){if(t=t||{},!("argPackAdvance"in r))throw new TypeError("registerType registeredInstance requires argPackAdvance");var n=r.name;if(e||he('type "'+n+'" must have a positive integer typeid pointer'),se.hasOwnProperty(e)){if(t.ignoreDuplicateRegistrations)return;he("Cannot register type '"+n+"' twice")}if(se[e]=r,delete ce[e],ue.hasOwnProperty(e)){var i=ue[e];delete ue[e],i.forEach((function(e){e()}))}}function Te(e){if(!(this instanceof We))return!1;if(!(e instanceof We))return!1;for(var r=this.$$.ptrType.registeredClass,t=this.$$.ptr,n=e.$$.ptrType.registeredClass,i=e.$$.ptr;r.baseClass;)t=r.upcast(t),r=r.baseClass;for(;n.baseClass;)i=n.upcast(i),n=n.baseClass;return r===n&&t===i}function Ce(e){he(e.$$.ptrType.registeredClass.name+" instance already deleted")}var we=!1;function be(e){}function _e(e){e.count.value-=1,0===e.count.value&&function(e){e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)}(e)}function $e(e){return"undefined"==typeof FinalizationGroup?($e=function(e){return e},e):(we=new FinalizationGroup((function(e){for(var r=e.next();!r.done;r=e.next()){var t=r.value;t.ptr?_e(t):console.warn("object already deleted: "+t.ptr)}})),$e=function(e){return we.register(e,e.$$,e.$$),e},be=function(e){we.unregister(e.$$)},$e(e))}function Pe(){if(this.$$.ptr||Ce(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e,r=$e(Object.create(Object.getPrototypeOf(this),{$$:{value:(e=this.$$,{count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType})}}));return r.$$.count.value+=1,r.$$.deleteScheduled=!1,r}function Ae(){this.$$.ptr||Ce(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&he("Object already scheduled for deletion"),be(this),_e(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function Fe(){return!this.$$.ptr}var Re=void 0,Se=[];function Ee(){for(;Se.length;){var e=Se.pop();e.$$.deleteScheduled=!1,e.delete()}}function Be(){return this.$$.ptr||Ce(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&he("Object already scheduled for deletion"),Se.push(this),1===Se.length&&Re&&Re(Ee),this.$$.deleteScheduled=!0,this}function We(){}var Ie={};function Oe(e,r,t){if(void 0===e[r].overloadTable){var n=e[r];e[r]=function(){return e[r].overloadTable.hasOwnProperty(arguments.length)||he("Function '"+t+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[r].overloadTable+")!"),e[r].overloadTable[arguments.length].apply(this,arguments)},e[r].overloadTable=[],e[r].overloadTable[n.argCount]=n}}function ke(e,r,t){u.hasOwnProperty(e)?((void 0===t||void 0!==u[e].overloadTable&&void 0!==u[e].overloadTable[t])&&he("Cannot register public name '"+e+"' twice"),Oe(u,e,e),u.hasOwnProperty(t)&&he("Cannot register multiple overloads of a function with the same number of arguments ("+t+")!"),u[e].overloadTable[t]=r):(u[e]=r,void 0!==t&&(u[e].numArguments=t))}function je(e,r,t,n,i,o,a,u){this.name=e,this.constructor=r,this.instancePrototype=t,this.rawDestructor=n,this.baseClass=i,this.getActualType=o,this.upcast=a,this.downcast=u,this.pureVirtualFunctions=[]}function xe(e,r,t){for(;r!==t;)r.upcast||he("Expected null or instance of "+t.name+", got an instance of "+r.name),e=r.upcast(e),r=r.baseClass;return e}function De(e,r){if(null===r)return this.isReference&&he("null is not a valid "+this.name),0;r.$$||he('Cannot pass "'+yr(r)+'" as a '+this.name),r.$$.ptr||he("Cannot pass deleted object as a pointer of type "+this.name);var t=r.$$.ptrType.registeredClass;return xe(r.$$.ptr,t,this.registeredClass)}function Ue(e,r){var t;if(null===r)return this.isReference&&he("null is not a valid "+this.name),this.isSmartPointer?(t=this.rawConstructor(),null!==e&&e.push(this.rawDestructor,t),t):0;r.$$||he('Cannot pass "'+yr(r)+'" as a '+this.name),r.$$.ptr||he("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&r.$$.ptrType.isConst&&he("Cannot convert argument of type "+(r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name)+" to parameter type "+this.name);var n=r.$$.ptrType.registeredClass;if(t=xe(r.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(void 0===r.$$.smartPtr&&he("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:r.$$.smartPtrType===this?t=r.$$.smartPtr:he("Cannot convert argument of type "+(r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:t=r.$$.smartPtr;break;case 2:if(r.$$.smartPtrType===this)t=r.$$.smartPtr;else{var i=r.clone();t=this.rawShare(t,hr((function(){i.delete()}))),null!==e&&e.push(this.rawDestructor,t)}break;default:he("Unsupporting sharing policy")}return t}function Ve(e,r){if(null===r)return this.isReference&&he("null is not a valid "+this.name),0;r.$$||he('Cannot pass "'+yr(r)+'" as a '+this.name),r.$$.ptr||he("Cannot pass deleted object as a pointer of type "+this.name),r.$$.ptrType.isConst&&he("Cannot convert argument of type "+r.$$.ptrType.name+" to parameter type "+this.name);var t=r.$$.ptrType.registeredClass;return xe(r.$$.ptr,t,this.registeredClass)}function Ge(e){return this.fromWireType(E[e>>2])}function Me(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e}function He(e){this.rawDestructor&&this.rawDestructor(e)}function ze(e){null!==e&&e.delete()}function qe(e,r,t){if(r===t)return e;if(void 0===t.baseClass)return null;var n=qe(e,r,t.baseClass);return null===n?null:t.downcast(n)}function Le(){return Object.keys(Je).length}function Ne(){var e=[];for(var r in Je)Je.hasOwnProperty(r)&&e.push(Je[r]);return e}function Xe(e){Re=e,Se.length&&Re&&Re(Ee)}var Je={};function Ye(e,r){return r=function(e,r){for(void 0===r&&he("ptr should not be undefined");e.baseClass;)r=e.upcast(r),e=e.baseClass;return r}(e,r),Je[r]}function Ze(e,r){return r.ptrType&&r.ptr||ve("makeClassHandle requires ptr and ptrType"),!!r.smartPtrType!=!!r.smartPtr&&ve("Both smartPtrType and smartPtr must be specified"),r.count={value:1},$e(Object.create(e,{$$:{value:r}}))}function Ke(e){var r=this.getPointee(e);if(!r)return this.destructor(e),null;var t=Ye(this.registeredClass,r);if(void 0!==t){if(0===t.$$.count.value)return t.$$.ptr=r,t.$$.smartPtr=e,t.clone();var n=t.clone();return this.destructor(e),n}function i(){return this.isSmartPointer?Ze(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:r,smartPtrType:this,smartPtr:e}):Ze(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var o,a=this.registeredClass.getActualType(r),u=Ie[a];if(!u)return i.call(this);o=this.isConst?u.constPointerType:u.pointerType;var s=qe(r,this.registeredClass,o.registeredClass);return null===s?i.call(this):this.isSmartPointer?Ze(o.registeredClass.instancePrototype,{ptrType:o,ptr:s,smartPtrType:this,smartPtr:e}):Ze(o.registeredClass.instancePrototype,{ptrType:o,ptr:s})}function Qe(e,r,t,n,i,o,a,u,s,c,l){this.name=e,this.registeredClass=r,this.isReference=t,this.isConst=n,this.isSmartPointer=i,this.pointeeType=o,this.sharingPolicy=a,this.rawGetPointee=u,this.rawConstructor=s,this.rawShare=c,this.rawDestructor=l,i||void 0!==r.baseClass?this.toWireType=Ue:n?(this.toWireType=De,this.destructorFunction=null):(this.toWireType=Ve,this.destructorFunction=null)}function er(e,r,t){u.hasOwnProperty(e)||ve("Replacing nonexistant public symbol"),void 0!==u[e].overloadTable&&void 0!==t?u[e].overloadTable[t]=r:(u[e]=r,u[e].argCount=t)}function rr(e,r){e=ae(e);var t=function(t){for(var n=[],i=1;i<e.length;++i)n.push("a"+i);var o="return function dynCall_"+e+"_"+r+"("+n.join(", ")+") {\n";return o+="    return dynCall(rawFunction"+(n.length?", ":"")+n.join(", ")+");\n",o+="};\n",new Function("dynCall","rawFunction",o)(t,r)}(u["dynCall_"+e]);return"function"!=typeof t&&he("unknown function pointer with signature "+e+": "+r),t}var tr=void 0;function nr(e){var r=Ir(e),t=ae(r);return Wr(r),t}function ir(e,r){var t=[],n={};throw r.forEach((function e(r){n[r]||se[r]||(ce[r]?ce[r].forEach(e):(t.push(r),n[r]=!0))})),new tr(e+": "+t.map(nr).join([", "]))}function or(e,r){for(var t=[],n=0;n<e;n++)t.push(S[(r>>2)+n]);return t}function ar(e){for(;e.length;){var r=e.pop();e.pop()(r)}}function ur(e,r){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+typeof e+" which is not a function");var t=fe(e.name||"unknownFunctionName",(function(){}));t.prototype=e.prototype;var n=new t,i=e.apply(n,r);return i instanceof Object?i:n}function sr(e,r,t,n,i){var o=r.length;o<2&&he("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var a=null!==r[1]&&null!==t,u=!1,s=1;s<r.length;++s)if(null!==r[s]&&void 0===r[s].destructorFunction){u=!0;break}var c="void"!==r[0].name,l="",f="";for(s=0;s<o-2;++s)l+=(0!==s?", ":"")+"arg"+s,f+=(0!==s?", ":"")+"arg"+s+"Wired";var p="return function "+le(e)+"("+l+") {\nif (arguments.length !== "+(o-2)+") {\nthrowBindingError('function "+e+" called with ' + arguments.length + ' arguments, expected "+(o-2)+" args!');\n}\n";u&&(p+="var destructors = [];\n");var d=u?"destructors":"null",h=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],y=[he,n,i,ar,r[0],r[1]];for(a&&(p+="var thisWired = classParam.toWireType("+d+", this);\n"),s=0;s<o-2;++s)p+="var arg"+s+"Wired = argType"+s+".toWireType("+d+", arg"+s+"); // "+r[s+2].name+"\n",h.push("argType"+s),y.push(r[s+2]);if(a&&(f="thisWired"+(f.length>0?", ":"")+f),p+=(c?"var rv = ":"")+"invoker(fn"+(f.length>0?", ":"")+f+");\n",u)p+="runDestructors(destructors);\n";else for(s=a?1:2;s<r.length;++s){var v=1===s?"thisWired":"arg"+(s-2)+"Wired";null!==r[s].destructorFunction&&(p+=v+"_dtor("+v+"); // "+r[s].name+"\n",h.push(v+"_dtor"),y.push(r[s].destructorFunction))}return c&&(p+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),p+="}\n",h.push(p),ur(Function,h).apply(null,y)}var cr=[],lr=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function fr(e){e>4&&0==--lr[e].refcount&&(lr[e]=void 0,cr.push(e))}function pr(){for(var e=0,r=5;r<lr.length;++r)void 0!==lr[r]&&++e;return e}function dr(){for(var e=5;e<lr.length;++e)if(void 0!==lr[e])return lr[e];return null}function hr(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var r=cr.length?cr.pop():lr.length;return lr[r]={refcount:1,value:e},r}}function yr(e){if(null===e)return"null";var r=typeof e;return"object"===r||"array"===r||"function"===r?e.toString():""+e}function vr(e,r){switch(r){case 2:return function(e){return this.fromWireType(B[e>>2])};case 3:return function(e){return this.fromWireType(W[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function mr(e,r,t){switch(r){case 0:return t?function(e){return P[e]}:function(e){return A[e]};case 1:return t?function(e){return F[e>>1]}:function(e){return R[e>>1]};case 2:return t?function(e){return S[e>>2]}:function(e){return E[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}function gr(e){return e||he("Cannot use deleted val. handle = "+e),lr[e].value}function Tr(e,r){var t=se[e];return void 0===t&&he(r+" has unknown type "+nr(e)),t}var Cr={};function wr(e){var r=Cr[e];return void 0===r?ae(e):r}var br=[];function _r(){return"object"==typeof globalThis?globalThis:Function("return this")()}var $r={};function Pr(e){try{return y.grow(e-$.byteLength+65535>>16),V(y.buffer),1}catch(e){}}var Ar={mappings:{},buffers:[null,[],[]],printChar:function(e,r){var t=Ar.buffers[e];0===r||10===r?((1===e?v:m)(b(t,0)),t.length=0):t.push(r)},varargs:void 0,get:function(){return Ar.varargs+=4,S[Ar.varargs-4>>2]},getStr:function(e){return _(e)},get64:function(e,r){return e}};!function(){for(var e=new Array(256),r=0;r<256;++r)e[r]=String.fromCharCode(r);oe=e}(),de=u.BindingError=pe(Error,"BindingError"),ye=u.InternalError=pe(Error,"InternalError"),We.prototype.isAliasOf=Te,We.prototype.clone=Pe,We.prototype.delete=Ae,We.prototype.isDeleted=Fe,We.prototype.deleteLater=Be,Qe.prototype.getPointee=Me,Qe.prototype.destructor=He,Qe.prototype.argPackAdvance=8,Qe.prototype.readValueFromPointer=Ge,Qe.prototype.deleteObject=ze,Qe.prototype.fromWireType=Ke,u.getInheritedInstanceCount=Le,u.getLiveInheritedInstances=Ne,u.flushPendingDeletes=Ee,u.setDelayFunction=Xe,tr=u.UnboundTypeError=pe(Error,"UnboundTypeError"),u.count_emval_handles=pr,u.get_first_emval=dr;var Fr={G:function(e){return Br(e)},D:function(e,r,t){throw ne[e]={ptr:e,adjusted:[e],type:r,destructor:t,refcount:0,caught:!1,rethrown:!1},e},A:function(e,r,t,n,i){var o=ie(t);ge(e,{name:r=ae(r),fromWireType:function(e){return!!e},toWireType:function(e,r){return r?n:i},argPackAdvance:8,readValueFromPointer:function(e){var n;if(1===t)n=P;else if(2===t)n=F;else{if(4!==t)throw new TypeError("Unknown boolean type size: "+r);n=S}return this.fromWireType(n[e>>o])},destructorFunction:null})},t:function(e,r,t,n,i,o,a,u,s,c,l,f,p){l=ae(l),o=rr(i,o),u&&(u=rr(a,u)),c&&(c=rr(s,c)),p=rr(f,p);var d=le(l);ke(d,(function(){ir("Cannot construct "+l+" due to unbound types",[n])})),me([e,r,t],n?[n]:[],(function(r){var t,i;r=r[0],i=n?(t=r.registeredClass).instancePrototype:We.prototype;var a=fe(d,(function(){if(Object.getPrototypeOf(this)!==s)throw new de("Use 'new' to construct "+l);if(void 0===f.constructor_body)throw new de(l+" has no accessible constructor");var e=f.constructor_body[arguments.length];if(void 0===e)throw new de("Tried to invoke ctor of "+l+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(f.constructor_body).toString()+") parameters instead!");return e.apply(this,arguments)})),s=Object.create(i,{constructor:{value:a}});a.prototype=s;var f=new je(l,a,s,p,t,o,u,c),h=new Qe(l,f,!0,!1,!1),y=new Qe(l+"*",f,!1,!1,!1),v=new Qe(l+" const*",f,!1,!0,!1);return Ie[e]={pointerType:y,constPointerType:v},er(d,a),[h,y,v]}))},s:function(e,r,t,n,i,o){C(r>0);var a=or(r,t);i=rr(n,i);var u=[o],s=[];me([],[e],(function(e){var t="constructor "+(e=e[0]).name;if(void 0===e.registeredClass.constructor_body&&(e.registeredClass.constructor_body=[]),void 0!==e.registeredClass.constructor_body[r-1])throw new de("Cannot register multiple constructors with identical number of parameters ("+(r-1)+") for class '"+e.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return e.registeredClass.constructor_body[r-1]=function(){ir("Cannot construct "+e.name+" due to unbound types",a)},me([],a,(function(n){return e.registeredClass.constructor_body[r-1]=function(){arguments.length!==r-1&&he(t+" called with "+arguments.length+" arguments, expected "+(r-1)),s.length=0,u.length=r;for(var e=1;e<r;++e)u[e]=n[e].toWireType(s,arguments[e-1]);var o=i.apply(null,u);return ar(s),n[0].fromWireType(o)},[]})),[]}))},c:function(e,r,t,n,i,o,a,u){var s=or(t,n);r=ae(r),o=rr(i,o),me([],[e],(function(e){var n=(e=e[0]).name+"."+r;function i(){ir("Cannot call "+n+" due to unbound types",s)}u&&e.registeredClass.pureVirtualFunctions.push(r);var c=e.registeredClass.instancePrototype,l=c[r];return void 0===l||void 0===l.overloadTable&&l.className!==e.name&&l.argCount===t-2?(i.argCount=t-2,i.className=e.name,c[r]=i):(Oe(c,r,n),c[r].overloadTable[t-2]=i),me([],s,(function(i){var u=sr(n,i,e,o,a);return void 0===c[r].overloadTable?(u.argCount=t-2,c[r]=u):c[r].overloadTable[t-2]=u,[]})),[]}))},z:function(e,r){ge(e,{name:r=ae(r),fromWireType:function(e){var r=lr[e].value;return fr(e),r},toWireType:function(e,r){return hr(r)},argPackAdvance:8,readValueFromPointer:Ge,destructorFunction:null})},j:function(e,r,t){var n=ie(t);ge(e,{name:r=ae(r),fromWireType:function(e){return e},toWireType:function(e,r){if("number"!=typeof r&&"boolean"!=typeof r)throw new TypeError('Cannot convert "'+yr(r)+'" to '+this.name);return r},argPackAdvance:8,readValueFromPointer:vr(r,n),destructorFunction:null})},x:function(e,r,t,n,i,o){var a=or(r,t);e=ae(e),i=rr(n,i),ke(e,(function(){ir("Cannot call "+e+" due to unbound types",a)}),r-1),me([],a,(function(t){var n=[t[0],null].concat(t.slice(1));return er(e,sr(e,n,null,i,o),r-1),[]}))},d:function(e,r,t,n,i){r=ae(r),-1===i&&(i=4294967295);var o=ie(t),a=function(e){return e};if(0===n){var u=32-8*t;a=function(e){return e<<u>>>u}}var s=-1!=r.indexOf("unsigned");ge(e,{name:r,fromWireType:a,toWireType:function(e,t){if("number"!=typeof t&&"boolean"!=typeof t)throw new TypeError('Cannot convert "'+yr(t)+'" to '+this.name);if(t<n||t>i)throw new TypeError('Passing a number "'+yr(t)+'" from JS side to C/C++ side to an argument of type "'+r+'", which is outside the valid range ['+n+", "+i+"]!");return s?t>>>0:0|t},argPackAdvance:8,readValueFromPointer:mr(r,o,0!==n),destructorFunction:null})},b:function(e,r,t){var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][r];function i(e){var r=E,t=r[e>>=2],i=r[e+1];return new n($,i,t)}ge(e,{name:t=ae(t),fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{ignoreDuplicateRegistrations:!0})},k:function(e,r){var t="std::string"===(r=ae(r));ge(e,{name:r,fromWireType:function(e){var r,n=E[e>>2];if(t){var i=A[e+4+n],o=0;0!=i&&(o=i,A[e+4+n]=0);for(var a=e+4,u=0;u<=n;++u){var s=e+4+u;if(0==A[s]){var c=_(a);void 0===r?r=c:(r+=String.fromCharCode(0),r+=c),a=s+1}}0!=o&&(A[e+4+n]=o)}else{var l=new Array(n);for(u=0;u<n;++u)l[u]=String.fromCharCode(A[e+4+u]);r=l.join("")}return Wr(e),r},toWireType:function(e,r){var n;r instanceof ArrayBuffer&&(r=new Uint8Array(r));var i="string"==typeof r;i||r instanceof Uint8Array||r instanceof Uint8ClampedArray||r instanceof Int8Array||he("Cannot pass non-string to std::string"),n=t&&i?function(){return function(e){for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n>=55296&&n<=57343&&(n=65536+((1023&n)<<10)|1023&e.charCodeAt(++t)),n<=127?++r:r+=n<=2047?2:n<=65535?3:4}return r}(r)}:function(){return r.length};var o=n(),a=Br(4+o+1);if(E[a>>2]=o,t&&i)!function(e,r,t,n){if(!(n>0))return 0;for(var i=t+n-1,o=0;o<e.length;++o){var a=e.charCodeAt(o);if(a>=55296&&a<=57343&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++o)),a<=127){if(t>=i)break;r[t++]=a}else if(a<=2047){if(t+1>=i)break;r[t++]=192|a>>6,r[t++]=128|63&a}else if(a<=65535){if(t+2>=i)break;r[t++]=224|a>>12,r[t++]=128|a>>6&63,r[t++]=128|63&a}else{if(t+3>=i)break;r[t++]=240|a>>18,r[t++]=128|a>>12&63,r[t++]=128|a>>6&63,r[t++]=128|63&a}}r[t]=0}(r,A,a+4,o+1);else if(i)for(var u=0;u<o;++u){var s=r.charCodeAt(u);s>255&&(Wr(a),he("String has UTF-16 code units that do not fit in 8 bits")),A[a+4+u]=s}else for(u=0;u<o;++u)A[a+4+u]=r[u];return null!==e&&e.push(Wr,a),a},argPackAdvance:8,readValueFromPointer:Ge,destructorFunction:function(e){Wr(e)}})},i:function(e,r,t){var n,i,o,a,u;t=ae(t),2===r?(n=O,i=k,a=j,o=function(){return R},u=1):4===r&&(n=x,i=D,a=U,o=function(){return E},u=2),ge(e,{name:t,fromWireType:function(e){var t,i=E[e>>2],a=o(),s=a[e+4+i*r>>u],c=0;0!=s&&(c=s,a[e+4+i*r>>u]=0);for(var l=e+4,f=0;f<=i;++f){var p=e+4+f*r;if(0==a[p>>u]){var d=n(l);void 0===t?t=d:(t+=String.fromCharCode(0),t+=d),l=p+r}}return 0!=c&&(a[e+4+i*r>>u]=c),Wr(e),t},toWireType:function(e,n){"string"!=typeof n&&he("Cannot pass non-string to C++ string type "+t);var o=a(n),s=Br(4+o+r);return E[s>>2]=o>>u,i(n,s+4,o+r),null!==e&&e.push(Wr,s),s},argPackAdvance:8,readValueFromPointer:Ge,destructorFunction:function(e){Wr(e)}})},B:function(e,r){ge(e,{isVoid:!0,name:r=ae(r),argPackAdvance:0,fromWireType:function(){},toWireType:function(e,r){}})},r:function(e,r,t){e=gr(e),r=Tr(r,"emval::as");var n=[],i=hr(n);return S[t>>2]=i,r.toWireType(n,e)},m:function(e,r,t,n){(e=br[e])(r=gr(r),t=wr(t),null,n)},a:fr,F:function(e){return 0===e?hr(_r()):(e=wr(e),hr(_r()[e]))},n:function(e,r){for(var t=function(e,r){for(var t=new Array(e),n=0;n<e;++n)t[n]=Tr(S[(r>>2)+n],"parameter "+n);return t}(e,r),n=t[0],i=n.name+"_$"+t.slice(1).map((function(e){return e.name})).join("_")+"$",o=["retType"],a=[n],u="",s=0;s<e-1;++s)u+=(0!==s?", ":"")+"arg"+s,o.push("argType"+s),a.push(t[1+s]);var c="return function "+le("methodCaller_"+i)+"(handle, name, destructors, args) {\n",l=0;for(s=0;s<e-1;++s)c+="    var arg"+s+" = argType"+s+".readValueFromPointer(args"+(l?"+"+l:"")+");\n",l+=t[s+1].argPackAdvance;for(c+="    var rv = handle[name]("+u+");\n",s=0;s<e-1;++s)t[s+1].deleteObject&&(c+="    argType"+s+".deleteObject(arg"+s+");\n");n.isVoid||(c+="    return retType.toWireType(destructors, rv);\n"),c+="};\n",o.push(c);var f,p,d=ur(Function,o).apply(null,a);return f=d,p=br.length,br.push(f),p},p:function(e){return e=wr(e),hr(u[e])},f:function(e,r){return hr((e=gr(e))[r=gr(r)])},h:function(e){e>4&&(lr[e].refcount+=1)},o:function(e,r,t,n){e=gr(e);var i=$r[r];return i||(i=function(e){for(var r="",t=0;t<e;++t)r+=(0!==t?", ":"")+"arg"+t;var n="return function emval_allocator_"+e+"(constructor, argTypes, args) {\n";for(t=0;t<e;++t)n+="var argType"+t+" = requireRegisteredType(Module['HEAP32'][(argTypes >> 2) + "+t+'], "parameter '+t+'");\nvar arg'+t+" = argType"+t+".readValueFromPointer(args);\nargs += argType"+t+"['argPackAdvance'];\n";return n+="var obj = new constructor("+r+");\nreturn __emval_register(obj);\n}\n",new Function("requireRegisteredType","Module","__emval_register",n)(Tr,u,hr)}(r),$r[r]=i),i(e,t,n)},g:function(e){return hr(wr(e))},q:function(e){ar(lr[e].value),fr(e)},E:function(){Z()},w:function(e,r,t){A.copyWithin(e,r,r+t)},y:function(e){var r=A.length,t=2147418112;if(e>t)return!1;for(var n,i,o=1;o<=4;o*=2){var a=r*(1+.2/o);if(a=Math.min(a,e+100663296),Pr(Math.min(t,((n=Math.max(16777216,e,a))%(i=65536)>0&&(n+=i-n%i),n))))return!0}return!1},C:function(e){return 0},u:function(e,r,t,n,i){},l:function(e,r,t,n){for(var i=0,o=0;o<t;o++){for(var a=S[r+8*o>>2],u=S[r+(8*o+4)>>2],s=0;s<u;s++)Ar.printChar(e,A[a+s]);i+=u}return S[n>>2]=i,0},memory:y,e:function(e){return(e=+e)>=0?+X(e+.5):+N(e-.5)},v:function(e){},table:g},Rr=function(){var e={a:Fr};function r(e,r){var t=e.exports;u.asm=t,function(e){if(J--,u.monitorRunDependencies&&u.monitorRunDependencies(J),0==J&&Y){var r=Y;Y=null,r()}}()}function n(e){r(e.instance)}function o(r){return(h||!t&&!i||"function"!=typeof fetch?new Promise((function(e,r){e(te())})):fetch(re,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+re+"'";return e.arrayBuffer()})).catch((function(){return te()}))).then((function(r){return WebAssembly.instantiate(r,e)})).then(r,(function(e){m("failed to asynchronously prepare wasm: "+e),Z(e)}))}if(J++,u.monitorRunDependencies&&u.monitorRunDependencies(J),u.instantiateWasm)try{return u.instantiateWasm(e,r)}catch(e){return m("Module.instantiateWasm callback failed with error: "+e),!1}return function(){if(h||"function"!=typeof WebAssembly.instantiateStreaming||Q(re)||"function"!=typeof fetch)return o(n);fetch(re,{credentials:"same-origin"}).then((function(r){return WebAssembly.instantiateStreaming(r,e).then(n,(function(e){m("wasm streaming compile failed: "+e),m("falling back to ArrayBuffer instantiation"),o(n)}))}))}(),{}}();u.asm=Rr;var Sr,Er=u.___wasm_call_ctors=function(){return(Er=u.___wasm_call_ctors=u.asm.H).apply(null,arguments)},Br=u._malloc=function(){return(Br=u._malloc=u.asm.I).apply(null,arguments)},Wr=u._free=function(){return(Wr=u._free=u.asm.J).apply(null,arguments)},Ir=u.___getTypeName=function(){return(Ir=u.___getTypeName=u.asm.K).apply(null,arguments)};function Or(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function kr(e){function r(){Sr||(Sr=!0,u.calledRun=!0,T||(M(z),M(q),u.onRuntimeInitialized&&u.onRuntimeInitialized(),function(){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;)e=u.postRun.shift(),L.unshift(e);var e;M(L)}()))}J>0||(function(){if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)e=u.preRun.shift(),H.unshift(e);var e;M(H)}(),J>0||(u.setStatus?(u.setStatus("Running..."),setTimeout((function(){setTimeout((function(){u.setStatus("")}),1),r()}),1)):r()))}if(u.___embind_register_native_and_builtin_types=function(){return(u.___embind_register_native_and_builtin_types=u.asm.L).apply(null,arguments)},u.dynCall_viii=function(){return(u.dynCall_viii=u.asm.M).apply(null,arguments)},u.dynCall_ii=function(){return(u.dynCall_ii=u.asm.N).apply(null,arguments)},u.dynCall_vi=function(){return(u.dynCall_vi=u.asm.O).apply(null,arguments)},u.dynCall_v=function(){return(u.dynCall_v=u.asm.P).apply(null,arguments)},u.dynCall_iii=function(){return(u.dynCall_iii=u.asm.Q).apply(null,arguments)},u.dynCall_vii=function(){return(u.dynCall_vii=u.asm.R).apply(null,arguments)},u.dynCall_iiii=function(){return(u.dynCall_iiii=u.asm.S).apply(null,arguments)},u.dynCall_iiiii=function(){return(u.dynCall_iiiii=u.asm.T).apply(null,arguments)},u.dynCall_iiiiii=function(){return(u.dynCall_iiiiii=u.asm.U).apply(null,arguments)},u.dynCall_iiiiiiii=function(){return(u.dynCall_iiiiiiii=u.asm.V).apply(null,arguments)},u.dynCall_iiiiiiiii=function(){return(u.dynCall_iiiiiiiii=u.asm.W).apply(null,arguments)},u.dynCall_iidiiii=function(){return(u.dynCall_iidiiii=u.asm.X).apply(null,arguments)},u.dynCall_jiji=function(){return(u.dynCall_jiji=u.asm.Y).apply(null,arguments)},u.dynCall_viiiiii=function(){return(u.dynCall_viiiiii=u.asm.Z).apply(null,arguments)},u.dynCall_viiiii=function(){return(u.dynCall_viiiii=u.asm._).apply(null,arguments)},u.dynCall_viiii=function(){return(u.dynCall_viiii=u.asm.$).apply(null,arguments)},u.asm=Rr,u.then=function(e){if(Sr)e(u);else{var r=u.onRuntimeInitialized;u.onRuntimeInitialized=function(){r&&r(),e(u)}}return u},Y=function e(){Sr||kr(),Sr||(Y=e)},u.run=kr,u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();return kr(),e}),o={cTFETC1:0,cTFETC2:1,cTFBC1:2,cTFBC3:3,cTFBC4:4,cTFBC5:5,cTFBC7:6,cTFPVRTC1_4_RGB:8,cTFPVRTC1_4_RGBA:9,cTFASTC_4x4:10,cTFATC_RGB:11,cTFATC_RGBA_INTERPOLATED_ALPHA:12,cTFRGBA32:13,cTFRGB565:14,cTFBGR565:15,cTFRGBA4444:16},a={};
/**
   * @license
   *
   * Copyright (c) 2020, 北京西部世界科技有限公司. All rights reserved.
   * vtxf 2020/6/29
   */for(var u in o)a[o[u]]=u;var s,c,l={};return l[o.cTFBC1]=33776,l[o.cTFBC3]=33779,l[o.cTFBC7]=36492,r((function(r,t){return(c=c||function(){var e;console.log("BASIS init...");var r=fetch(CESIUM_BASE_URL+"ThirdParty/basis_old/basis_transcoder.wasm").then((function(e){return e.arrayBuffer()})).then((function(r){return new Promise((function(t){i(e={wasmBinary:r,onRuntimeInitialized:t})}))})).then((function(){s=e.BasisFile,(0,e.initializeBasis)()})).catch((function(e){console.error("transcodeBASIS failed! "+e)}));return console.log("BASIS initialized!"),r}()).then((function(){return function(r,t){var n=r.data,i=r.textureFormat;if(s){performance.now();var a=new s(n),u=a.getImageWidth(0,0),c=a.getImageHeight(0,0),f=a.getNumImages(),p=a.getNumLevels(0),d=a.getHasAlpha();if(!(u&&c&&f&&p))return console.warn("Invalid .basis file"),a.close(),void a.delete();var h,y="etc1"===i;if("s3tc"===i?h=d?o.cTFBC3:o.cTFBC1:"pvrtc"===i?(h=d?o.cTFPVRTC1_4_RGBA:o.cTFPVRTC1_4_RGB,0==(u&u-1)&&0==(c&c-1)||console.log("ERROR: PVRTC1 requires square power of 2 textures"),u!==c&&console.log("ERROR: PVRTC1 requires square power of 2 textures")):h=y?o.cTFETC1:o.cTFRGB565,!a.startTranscoding())return console.log("startTranscoding failed"),console.warn("startTranscoding failed"),a.close(),void a.delete();for(var v,m=[],g=0;g<p;g++){var T=a.getImageWidth(0,g),C=a.getImageHeight(0,g),w=new Uint8Array(a.getImageTranscodedSizeInBytes(0,g,h));if(!a.transcodeImage(w,0,g,h,0,d))throw console.log("basisFile.transcodeImage failed"),console.warn("transcodeImage failed"),a.close(),a.delete(),new Error("THREE.BasisTextureLoader: .transcodeImage failed.");m.push({data:w,width:T,height:C})}a.close(),a.delete(),h===o.cTFASTC_4x4?v=37808:h===o.cTFBC3||h===o.cTFBC1||h===o.cTFBC7?v=l[h]:h===o.cTFETC1?v=36196:h===o.cTFPVRTC1_4_RGB?v=35840:h===o.cTFPVRTC1_4_RGBA?v=35842:console.error("format error: "+h);var b=u+3&-4,_=c+3&-4,$=new e.CompressedTextureBuffer(v,void 0,b,_,m[0].data);t.push(m[0].data.buffer);var P=[],A=m.length;if(A>1){P.push({positiveX:$});for(var F=1;F<A;++F)P.push({positiveX:new e.CompressedTextureBuffer(v,void 0,b,_,m[F].data)}),t.push(m[F].data.buffer);return P}return $}console.warn("BASIS还未准备好！")}(r,t)})).catch((function(e){console.error("transcodeBASIS error: "+e)}))}))}));
